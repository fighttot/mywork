import{M as D,T as z,k as t,C as M,u as F,c as L,a as H,b as U,d as $,r as j,e as q,f as a,h as p,w as _,v as h,i as s,j as x,m as r,l as o,n,F as m,V as B,p as C,q as E,s as T,t as w,x as A,y as c,z as G,B as g,A as u,J,G as I}from"./index-64fb1acc.js";import{V as K,_ as O,a as f,b as Q}from"./gawr-gura-gura-8fe4ce0a.js";import{V as W}from"./VNavigationDrawer-9491f0b0.js";import{V as X}from"./VMain-1ca5aa86.js";import{V as Y}from"./VContainer-4e08f2f3.js";import{m as Z,a as ee}from"./VToolbar-ebff2037.js";/* empty css              */const te=D()({name:"VAppBarTitle",props:Z(),setup(y,k){let{slots:l}=k;return z(()=>t(ee,M(y,{class:"v-app-bar-title"}),l)),{}}}),oe={class:"lodindpage"},ae={id:"prolaout"},se=x("span",null,"遊客",-1),pe={__name:"ProductLayout",setup(y){const{mobile:k}=F(),l=L(()=>k.value),e=H(),b=U(),P=$(),v=j(!1),N=L(()=>[{to:"/loginRrgister",text:"加入我們",icon:"mdi-account-plus",show:!e.isLogin},{to:"/cart",text:"購物車",icon:"mdi-cart",show:e.isLogin},{to:"/like",text:"收藏",icon:"mdi-heart",show:e.isLogin},{to:"/orders",text:"訂單",icon:"mdi-format-list-numbered",show:e.isLogin},{to:"/proHome",text:"商品一覽",icon:"mdi-tag",show:!0},{to:"/manufacturers",text:"廠商介紹",icon:"mdi-package-variant",show:!0},{to:"/forgetPass",text:"忘記密碼",icon:"mdi-lock-reset",show:!e.isLogin},{to:"/editPass",text:"編輯會員資料",icon:"mdi-account-edit",show:e.isLogin},{to:"/admin",text:"管理",icon:"mdi-cog",show:e.isLogin&&e.isAdmin},{to:"/",text:"回首頁",icon:"mdi-home",show:!0}]),R=async()=>{try{await J.delete("/users/logout"),e.lougot(),b({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom",rounded:"pill",variant:"tonal"}}),P.push("/loginRrgister")}catch(V){b({text:V.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom",rounded:"pill",variant:"tonal"}})}};return(V,d)=>{const S=q("RouterView");return a(),p(m,null,[_(x("div",oe,[t(B,{src:O,cover:""})],512),[[h,s(e).loding]]),_(x("section",ae,[l.value?(a(),r(W,{key:0,modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=i=>v.value=i),location:"right",temporary:""},{default:o(()=>[t(G,{nav:""},{default:o(()=>[s(e).isLogin?(a(),r(C,{key:0,color:"brown",size:"large"},{default:o(()=>[t(B,{src:s(e).avatar},null,8,["src"])]),_:1})):n("",!0),s(e).isLogin?n("",!0):(a(),r(C,{key:1,color:"brown",size:"large"},{default:o(()=>[se]),_:1})),(a(!0),p(m,null,E(N.value,i=>(a(),p(m,{key:i.to},[i.show?(a(),r(T,{key:0,to:i.to},{prepend:o(()=>[t(w,{icon:i.icon},null,8,["icon"])]),append:o(()=>[i.to==="/cart"?(a(),r(f,{key:0,color:"success",content:s(e).cart,inline:""},null,8,["content"])):n("",!0),i.to==="/like"?(a(),r(f,{key:1,color:"success",content:s(e).like,inline:""},null,8,["content"])):n("",!0)]),default:o(()=>[t(A,null,{default:o(()=>[c(I(i.text),1)]),_:2},1024)]),_:2},1032,["to"])):n("",!0)],64))),128)),s(e).isLogin?(a(),r(T,{key:2,onClick:R},{prepend:o(()=>[t(w,{icon:"mdi-logout"})]),default:o(()=>[t(A,null,{default:o(()=>[c("登出")]),_:1})]),_:1})):n("",!0)]),_:1})]),_:1},8,["modelValue"])):n("",!0),t(K,{elevation:0,class:"appbar","scroll-behavior":"hide","scroll-threshold":"30"},{default:o(()=>[t(Y,{class:"d-flex align-center"},{default:o(()=>[t(g),t(u,{to:"/",active:!1},{default:o(()=>[t(te,null,{default:o(()=>[t(w,{icon:"mdi-home"}),c("型影不離")]),_:1})]),_:1}),l.value?n("",!0):(a(),p(m,{key:0},[t(u,{variant:"text",active:!1,to:"/manufacturers","prepend-icon":"mdi-package-variant"},{default:o(()=>[c("廠商介紹")]),_:1}),t(u,{variant:"text",active:!1,to:"/proHome","prepend-icon":"mdi-tag"},{default:o(()=>[c("商品一覽")]),_:1}),t(g),s(e).isLogin?(a(),r(u,{key:0,variant:"text",active:!1,to:"/like","prepend-icon":"mdi-heart"},{default:o(()=>[t(f,{content:s(e).like,floating:""},null,8,["content"])]),_:1})):n("",!0),s(e).isLogin?(a(),r(u,{key:1,variant:"text",active:!1,to:"/cart","prepend-icon":"mdi-cart"},{default:o(()=>[t(f,{content:s(e).cart,floating:""},null,8,["content"])]),_:1})):n("",!0),t(g)],64)),l.value?(a(),r(g,{key:1})):n("",!0),l.value?(a(),r(Q,{key:2,onClick:d[1]||(d[1]=i=>v.value=!0)})):n("",!0)]),_:1})]),_:1})],512),[[h,!s(e).loding]]),_(t(X,null,{default:o(()=>[(a(),r(S,{key:V.$route.path}))]),_:1},512),[[h,!s(e).loding]])],64)}}};export{pe as default};
