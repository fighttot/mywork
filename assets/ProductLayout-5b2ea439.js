import{K as N,R as P,i as t,A as S,u as D,c as x,a as z,b as H,d as F,r as M,e as U,f as a,h as p,y as B,j as r,w as e,k as s,F as m,m as l,n as y,l as j,p as q,q as w,s as b,t as L,v as u,x as E,z as f,V as c,H as K,D as $}from"./index-96f45286.js";import{V as G}from"./VNavigationDrawer-9f835b66.js";import{V as I,a as g,b as J}from"./VBadge-4d33e5f6.js";import{V as O}from"./VMain-cd02d5d1.js";import{V as Q}from"./VContainer-cd18ad95.js";import{m as W,a as X}from"./VToolbar-19ab1738.js";/* empty css              */const Y=N()({name:"VAppBarTitle",props:W(),setup(_,V){let{slots:i}=V;return P(()=>t(X,S(_,{class:"v-app-bar-title"}),i)),{}}}),Z={id:"prolaout"},ee=B("span",null,"遊客",-1),ie={__name:"ProductLayout",setup(_){const{mobile:V}=D(),i=x(()=>V.value),o=z(),v=H(),C=F(),k=M(!1),A=x(()=>[{to:"/loginRrgister",text:"加入我們",icon:"mdi-account-plus",show:!o.isLogin},{to:"/cart",text:"購物車",icon:"mdi-cart",show:o.isLogin},{to:"/like",text:"收藏",icon:"mdi-heart",show:o.isLogin},{to:"/orders",text:"訂單",icon:"mdi-format-list-numbered",show:o.isLogin},{to:"/proHome",text:"商品一覽",icon:"mdi-tag",show:!o.isLogin},{to:"/manufacturers",text:"廠商介紹",icon:"mdi-home",show:!o.isLogin},{to:"/admin",text:"管理",icon:"mdi-cog",show:o.isLogin&&o.isAdmin}]),T=async()=>{try{await K.delete("/users/logout"),o.lougot(),v({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),C.push("/loginRrgister")}catch(h){v({text:h.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(h,d)=>{const R=U("RouterView");return a(),p(m,null,[B("section",Z,[i.value?(a(),r(G,{key:0,modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=n=>k.value=n),location:"right",temporary:""},{default:e(()=>[t(E,{nav:""},{default:e(()=>[l(o).isLogin?(a(),r(y,{key:0,color:"brown",size:"large"},{default:e(()=>[t(j,{src:l(o).avatar},null,8,["src"])]),_:1})):s("",!0),l(o).isLogin?s("",!0):(a(),r(y,{key:1,color:"brown",size:"large"},{default:e(()=>[ee]),_:1})),(a(!0),p(m,null,q(A.value,n=>(a(),p(m,{key:n.to},[n.show?(a(),r(w,{key:0,to:n.to},{prepend:e(()=>[t(b,{icon:n.icon},null,8,["icon"])]),append:e(()=>[n.to==="/cart"?(a(),r(g,{key:0,color:"success",content:l(o).cart,inline:""},null,8,["content"])):s("",!0),n.to==="/like"?(a(),r(g,{key:1,color:"success",content:l(o).like,inline:""},null,8,["content"])):s("",!0)]),default:e(()=>[t(L,null,{default:e(()=>[u($(n.text),1)]),_:2},1024)]),_:2},1032,["to"])):s("",!0)],64))),128)),l(o).isLogin?(a(),r(w,{key:2,onClick:T},{prepend:e(()=>[t(b,{icon:"mdi-logout"})]),default:e(()=>[t(L,null,{default:e(()=>[u("登出")]),_:1})]),_:1})):s("",!0)]),_:1})]),_:1},8,["modelValue"])):s("",!0),t(I,{elevation:0,class:"appbar","scroll-behavior":"hide","scroll-threshold":"0"},{default:e(()=>[t(Q,{class:"d-flex align-center"},{default:e(()=>[t(f),t(c,{to:"/",active:!1},{default:e(()=>[t(Y,null,{default:e(()=>[u("型影不離")]),_:1})]),_:1}),i.value?s("",!0):(a(),p(m,{key:0},[t(c,{variant:"text",active:!1,to:"/manufacturers"},{default:e(()=>[u("廠商介紹")]),_:1}),t(c,{variant:"text",active:!1,to:"/proHome","prepend-icon":"mdi-tag"},{default:e(()=>[u("商品一覽")]),_:1}),t(f),l(o).isLogin?(a(),r(c,{key:0,variant:"text",active:!1,to:"/like","prepend-icon":"mdi-heart"},{default:e(()=>[t(g,{content:l(o).like,floating:""},null,8,["content"])]),_:1})):s("",!0),l(o).isLogin?(a(),r(c,{key:1,variant:"text",active:!1,to:"/cart","prepend-icon":"mdi-cart"},{default:e(()=>[t(g,{content:l(o).cart,floating:""},null,8,["content"])]),_:1})):s("",!0),t(f)],64)),i.value?(a(),r(f,{key:1})):s("",!0),i.value?(a(),r(J,{key:2,onClick:d[1]||(d[1]=n=>k.value=!0)})):s("",!0)]),_:1})]),_:1})]),t(O,null,{default:e(()=>[t(R)]),_:1})],64)}}};export{ie as default};
