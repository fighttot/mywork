import{K as N,R as P,i as o,A as S,u as D,c as y,a as z,b as H,d as F,r as M,e as U,f as a,h as p,x as B,j as s,w as e,k as r,F as m,l,V as w,m as $,n as j,p as x,q as b,s as L,t as u,v as q,z as f,y as c,H as E,D as K}from"./index-c5b9bec8.js";import{V as G}from"./VNavigationDrawer-bc5a5042.js";import{V as I,a as g,b as J}from"./VBadge-02c03080.js";import{V as O}from"./VMain-a8537af5.js";import{V as Q}from"./VContainer-fc5947e2.js";import{m as W,a as X}from"./VToolbar-fbba2c00.js";/* empty css              */const Y=N()({name:"VAppBarTitle",props:W(),setup(v,V){let{slots:i}=V;return P(()=>o(X,S(v,{class:"v-app-bar-title"}),i)),{}}}),Z={id:"prolaout"},ee=B("span",null,"遊客",-1),ie={__name:"ProductLayout",setup(v){const{mobile:V}=D(),i=y(()=>V.value),t=z(),h=H(),C=F(),k=M(!1),A=y(()=>[{to:"/loginRrgister",text:"加入我們",icon:"mdi-account-plus",show:!t.isLogin},{to:"/cart",text:"購物車",icon:"mdi-cart",show:t.isLogin},{to:"/like",text:"收藏",icon:"mdi-heart",show:t.isLogin},{to:"/orders",text:"訂單",icon:"mdi-format-list-numbered",show:t.isLogin},{to:"/proHome",text:"商品一覽",icon:"mdi-tag",show:!t.isLogin},{to:"/manufacturers",text:"廠商介紹",icon:"mdi-home",show:!t.isLogin},{to:"/admin",text:"管理",icon:"mdi-cog",show:t.isLogin&&t.isAdmin}]),T=async()=>{try{await E.delete("/users/logout"),t.lougot(),h({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),C.push("/loginRrgister")}catch(_){h({text:_.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(_,d)=>{const R=U("RouterView");return a(),p(m,null,[B("section",Z,[i.value?(a(),s(G,{key:0,modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=n=>k.value=n),location:"right",temporary:""},{default:e(()=>[o(q,{nav:""},{default:e(()=>[l(t).isLogin?(a(),s(w,{key:0,color:"brown",size:"large"},{default:e(()=>[o($,{src:l(t).avatar},null,8,["src"])]),_:1})):r("",!0),l(t).isLogin?r("",!0):(a(),s(w,{key:1,color:"brown",size:"large"},{default:e(()=>[ee]),_:1})),(a(!0),p(m,null,j(A.value,n=>(a(),p(m,{key:n.to},[n.show?(a(),s(x,{key:0,to:n.to},{prepend:e(()=>[o(b,{icon:n.icon},null,8,["icon"])]),append:e(()=>[n.to==="/cart"?(a(),s(g,{key:0,color:"success",content:l(t).cart,inline:""},null,8,["content"])):r("",!0),n.to==="/like"?(a(),s(g,{key:1,color:"success",content:l(t).like,inline:""},null,8,["content"])):r("",!0)]),default:e(()=>[o(L,null,{default:e(()=>[u(K(n.text),1)]),_:2},1024)]),_:2},1032,["to"])):r("",!0)],64))),128)),l(t).isLogin?(a(),s(x,{key:2,onClick:T},{prepend:e(()=>[o(b,{icon:"mdi-logout"})]),default:e(()=>[o(L,null,{default:e(()=>[u("登出")]),_:1})]),_:1})):r("",!0)]),_:1})]),_:1},8,["modelValue"])):r("",!0),o(I,{elevation:0,class:"appbar","scroll-behavior":"hide","scroll-threshold":"0"},{default:e(()=>[o(Q,{class:"d-flex align-center"},{default:e(()=>[o(f),o(c,{to:"/",active:!1},{default:e(()=>[o(Y,null,{default:e(()=>[u("型影不離")]),_:1})]),_:1}),i.value?r("",!0):(a(),p(m,{key:0},[o(c,{variant:"text",active:!1,to:"/manufacturers"},{default:e(()=>[u("廠商介紹")]),_:1}),o(c,{variant:"text",active:!1,to:"/proHome","prepend-icon":"mdi-tag"},{default:e(()=>[u("商品一覽")]),_:1}),o(f),l(t).isLogin?(a(),s(c,{key:0,variant:"text",active:!1,to:"/like","prepend-icon":"mdi-heart"},{default:e(()=>[o(g,{content:l(t).like,floating:""},null,8,["content"])]),_:1})):r("",!0),l(t).isLogin?(a(),s(c,{key:1,variant:"text",active:!1,to:"/cart","prepend-icon":"mdi-cart"},{default:e(()=>[o(g,{content:l(t).cart,floating:""},null,8,["content"])]),_:1})):r("",!0),o(f)],64)),i.value?(a(),s(f,{key:1})):r("",!0),i.value?(a(),s(J,{key:2,onClick:d[1]||(d[1]=n=>k.value=!0)})):r("",!0)]),_:1})]),_:1})]),o(O,null,{default:e(()=>[(a(),s(R,{key:_.$route.path}))]),_:1})],64)}}};export{ie as default};
