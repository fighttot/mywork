import{a as A,b as v,r as T,H as F,e as $,f as m,h as x,x as n,i as u,w as i,Y as h,D as k,l as E,F as P,n as C,j as _,V as L,o as M,T as R,U as D,aV as I,aW as H}from"./index-4e24dfd9.js";import{b as N,e as j,g as q,S as z,a as O,P as U,A as W}from"./effect-init-b2c39f19.js";import{e as G}from"./effect-target-72d1d489.js";import{a as S,V}from"./VRow-e0d2e2b2.js";import{g as y,S as Y}from"./ScrollTrigger-1fe021b6.js";import{V as J}from"./VContainer-95f77cfa.js";/* empty css              */function K(o){let{swiper:e,duration:c,transformElements:l,allSlides:f}=o;const{activeIndex:d}=e,r=t=>t.parentElement?t.parentElement:e.slides.filter(s=>s.shadowRoot&&s.shadowRoot===t.parentNode)[0];if(e.params.virtualTranslate&&c!==0){let t=!1,a;f?a=l:a=l.filter(s=>{const p=s.classList.contains("swiper-slide-transform")?r(s):s;return e.getSlideIndex(p)===d}),a.forEach(s=>{N(s,()=>{if(t||!e||e.destroyed)return;t=!0,e.animating=!1;const p=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(p)})})}}function Q(o){let{swiper:e,extendParams:c,on:l}=o;c({fadeEffect:{crossFade:!1}}),j({effect:"fade",swiper:e,on:l,setTranslate:()=>{const{slides:r}=e,t=e.params.fadeEffect;for(let a=0;a<r.length;a+=1){const s=e.slides[a];let g=-s.swiperSlideOffset;e.params.virtualTranslate||(g-=e.translate);let w=0;e.isHorizontal()||(w=g,g=0);const B=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(s.progress),0):1+Math.min(Math.max(s.progress,-1),0),b=G(t,s);b.style.opacity=B,b.style.transform=`translate3d(${g}px, ${w}px, 0px)`}},setTransition:r=>{const t=e.slides.map(a=>q(a));t.forEach(a=>{a.style.transitionDuration=`${r}ms`}),K({swiper:e,duration:r,transformElements:t,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const X={class:"comproduct"},Z=n("span",null,"â—„",-1),ee=n("span",null,"c",-1),te=n("span",null,"l",-1),ae=n("span",null,"i",-1),se=n("span",null,"c",-1),oe=n("span",null,"k",-1),re=n("span",null,"!",-1),ne=n("span",null,"!",-1),le=[Z,ee,te,ae,se,oe,re,ne],ie={__name:"ProductCard",props:{_id:{type:String,default:()=>""},name:{type:String,default:()=>""},price:{type:Number,default:()=>0},images:{type:Array,default:()=>[]},description:{type:String,default:()=>""},category:{type:String,default:()=>""},manufacturers:{type:String,default:()=>""},sell:{type:Boolean,default:()=>!0},color:{type:String,default:()=>""},textColor:{type:String,default:()=>""}},setup(o){const e=o,c=[U,W,Q],l=A(),f=v(),d=T("#F2E1D9");return(async()=>{try{if(l.isLogin){const{data:r}=await F.post("/products/red",{app:e._id});r.result&&(d.value="red")}}catch(r){f({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(r,t)=>{const a=$("RouterLink");return m(),x("section",X,[n("div",{style:h(`width:100%; background-color: ${o.color} ;`),class:"box1"},[u(V,null,{default:i(()=>[u(S,{style:h(`color: ${o.textColor};`),class:"title d-flex justify-center align-center flex-column",cols:"5"},{default:i(()=>[n("h3",null,k(o.name),1),n("div",null,k(o.manufacturers),1)]),_:1},8,["style"]),u(S,{cols:"7",class:"d-flex align-center"},{default:i(()=>[u(E(z),{effect:"fade",speed:2e3,modules:c,class:"mySwiper",autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0},{default:i(()=>[(m(!0),x(P,null,C(o.images,(s,p)=>(m(),_(E(O),{key:p},{default:i(()=>[u(a,{to:/proHome/+o._id,class:"text-decoration-none"},{default:i(()=>[u(L,{src:s,cover:"",style:{width:"100%",height:"100%"}},null,8,["src"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),n("div",{class:"click d-flex align-center flex-column justify-center",style:h(`color: ${o.textColor};`)},le,4)]),_:1})]),_:1})],4)])}}},ye={__name:"ProductHome",setup(o){const e=v(),c=T([]);return y.registerPlugin(Y),M(async()=>{try{const{data:l}=await R.get("/products");c.value.push(...l.result),await D(),document.querySelectorAll(".box1").forEach(t=>{y.from(t,{scrollTrigger:{trigger:t,start:"top 70%",end:"bottom center"},backgroundColor:"rgb(255,255,255)",boxShadow:"10px 10px 20px rgba(0, 0, 0, 0)",duration:3,ease:"none"})}),document.querySelectorAll(".title").forEach(t=>{y.timeline({repeat:-1,repeatDelay:4}).from(t,{opacity:1,duration:1,yoyo:!0,ease:"none"}).to(t,{opacity:1,duration:1,yoyo:!0,ease:"none"})}),document.querySelectorAll(".click").forEach(t=>{y.from(t,{scrollTrigger:{trigger:t,start:"top 90%",end:"bottom center"},y:100,opacity:0,duration:1,ease:"back"})})}catch(l){e({text:l.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}}),(l,f)=>(m(),_(J,null,{default:i(()=>[u(V,null,{default:i(()=>[(m(!0),x(P,null,C(c.value,d=>(m(),_(S,{cols:"12",key:d._id,style:{margin:"50px 0px"}},{default:i(()=>[u(ie,I(H(d)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{ye as default};
