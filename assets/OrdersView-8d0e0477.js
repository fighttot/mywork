import{_ as m}from"./71b8e0fl_cL._AC_SL1500-811e8b6d.js";import{b as f,r as b,H as V,f as n,h as o,y as t,i as s,w as u,F as i,l as g,W as y,p as _,D as e}from"./index-c57fb7bc.js";import{V as k}from"./VContainer-aa0b2b54.js";import{V as w,a as p}from"./VRow-cb658920.js";/* empty css              */const x={class:"othertitle"},v={class:"bgbox"},B=t("div",{class:"bgbox2"},null,-1),C=t("h1",null,"訂單管理",-1),D=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"日期"),t("th",null,"使用者"),t("th",null,"金額"),t("th",null,"商品")])],-1),A={__name:"OrdersView",setup(S){const h=f(),d=b([]);return(async()=>{try{const{data:r}=await V.get("/orders/all");d.value.push(...r.result.map(c=>(c.total=c.cart.reduce((l,a)=>l+a.product.price*a.quantity,0),c)))}catch(r){h({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(r,c)=>(n(),o(i,null,[t("section",x,[t("div",v,[s(g,{class:"mainimg",src:m,cover:""})]),B]),s(k,null,{default:u(()=>[s(w,null,{default:u(()=>[s(p,{cols:"12"},{default:u(()=>[C]),_:1}),s(p,{cols:"12"},{default:u(()=>[s(y,null,{default:u(()=>[D,t("tbody",null,[(n(!0),o(i,null,_(d.value,l=>(n(),o("tr",{key:l._id},[t("td",null,e(l._id),1),t("td",null,e(new Date(l.date).toLocaleString()),1),t("td",null,e(l.user.account),1),t("td",null,e(l.total),1),t("td",null,[t("ul",null,[(n(!0),o(i,null,_(l.cart,a=>(n(),o("li",{key:a._id},e(a.product.name)+"*"+e(a.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})],64))}};export{A as default};
