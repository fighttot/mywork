import{b as m,r as f,H as y,f as n,j as V,w as s,i as u,W as k,y as t,h as c,p as i,F as _,D as o}from"./index-bf125543.js";import{V as b}from"./VContainer-47efd422.js";import{a as p,V as w}from"./VRow-e471b7ec.js";/* empty css              */const g=t("h1",null,"訂單",-1),B=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"日期"),t("th",null,"金額"),t("th",null,"商品")])],-1),v={__name:"OrdersView",setup(x){const h=m(),d=f([]);return(async()=>{try{const{data:e}=await y.get("/orders");d.value.push(...e.result.map(r=>(r.total=r.cart.reduce((a,l)=>a+l.product.price*l.quantity,0),r)))}catch(e){console.log(e),h({text:e.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(e,r)=>(n(),V(b,null,{default:s(()=>[u(w,null,{default:s(()=>[u(p,{cols:"12"},{default:s(()=>[g]),_:1}),u(p,{cols:"12"},{default:s(()=>[u(k,null,{default:s(()=>[B,t("tbody",null,[(n(!0),c(_,null,i(d.value,a=>(n(),c("tr",{key:a._id},[t("td",null,o(a._id),1),t("td",null,o(new Date(a.date).toLocaleString()),1),t("td",null,o(a.total),1),t("td",null,[t("ul",null,[(n(!0),c(_,null,i(a.cart,l=>(n(),c("li",{key:l._id},o(l.product.name)+"*"+o(l.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{v as default};
