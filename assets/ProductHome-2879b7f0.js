import{a as P,b as B,r as w,J as I,e as M,f as m,h as x,j as o,k as l,l as i,a5 as _,G as E,i as T,F as S,q as A,m as $,V as R,o as z,W as V,X as C,I as N,A as q,C as D,y as h,z as K,s as j,a3 as H,ar as O,aY as G,aZ as U}from"./index-64fb1acc.js";import{b as W,e as J,g as X,S as Y,a as Z,P as Q,A as ee}from"./effect-init-6ba70dd8.js";import{e as te}from"./effect-target-6bb11266.js";import{a as b,V as F}from"./VRow-040ada0a.js";import{g as y}from"./index-4db78ffb.js";import{S as ae}from"./ScrollTrigger-c3252e56.js";import{V as se}from"./VContainer-4e08f2f3.js";/* empty css              */function oe(c){let{swiper:e,duration:d,transformElements:u,allSlides:f}=c;const{activeIndex:p}=e,n=a=>a.parentElement?a.parentElement:e.slides.filter(t=>t.shadowRoot&&t.shadowRoot===a.parentNode)[0];if(e.params.virtualTranslate&&d!==0){let a=!1,s;f?s=u:s=u.filter(t=>{const r=t.classList.contains("swiper-slide-transform")?n(t):t;return e.getSlideIndex(r)===p}),s.forEach(t=>{W(t,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const r=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(r)})})}}function re(c){let{swiper:e,extendParams:d,on:u}=c;d({fadeEffect:{crossFade:!1}}),J({effect:"fade",swiper:e,on:u,setTranslate:()=>{const{slides:n}=e,a=e.params.fadeEffect;for(let s=0;s<n.length;s+=1){const t=e.slides[s];let g=-t.swiperSlideOffset;e.params.virtualTranslate||(g-=e.translate);let v=0;e.isHorizontal()||(v=g,g=0);const L=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),k=te(a,t);k.style.opacity=L,k.style.transform=`translate3d(${g}px, ${v}px, 0px)`}},setTransition:n=>{const a=e.slides.map(s=>X(s));a.forEach(s=>{s.style.transitionDuration=`${n}ms`}),oe({swiper:e,duration:n,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const ne={class:"comproduct"},le=o("span",null,"◄",-1),ie=o("span",null,"c",-1),ce=o("span",null,"l",-1),de=o("span",null,"i",-1),ue=o("span",null,"c",-1),pe=o("span",null,"k",-1),fe=o("span",null,"!",-1),me=o("span",null,"!",-1),ge=[le,ie,ce,de,ue,pe,fe,me],ye={__name:"ProductCard",props:{_id:{type:String,default:()=>""},name:{type:String,default:()=>""},price:{type:Number,default:()=>0},images:{type:Array,default:()=>[]},description:{type:String,default:()=>""},category:{type:String,default:()=>""},manufacturers:{type:String,default:()=>""},sell:{type:Boolean,default:()=>!0},color:{type:String,default:()=>""},textColor:{type:String,default:()=>""}},setup(c){const e=c,d=[Q,ee,re],u=P(),f=B(),p=w("#F2E1D9");return(async()=>{try{if(u.isLogin){const{data:n}=await I.post("/products/red",{app:e._id});n.result&&(p.value="red")}}catch(n){f({text:n.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom",rounded:"pill",variant:"tonal"}})}})(),(n,a)=>{const s=M("RouterLink");return m(),x("section",ne,[o("div",{style:_(`width:100%; background-color: ${c.color} ;`),class:"box1"},[l(F,null,{default:i(()=>[l(b,{style:_(`color: ${c.textColor};`),class:"title d-flex justify-center align-center flex-column",cols:"5"},{default:i(()=>[o("h3",null,E(c.name),1),o("div",null,E(c.manufacturers),1)]),_:1},8,["style"]),l(b,{cols:"7",class:"d-flex align-center"},{default:i(()=>[l(T(Y),{effect:"fade",speed:2e3,modules:d,class:"mySwiper",autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0},{default:i(()=>[(m(!0),x(S,null,A(c.images,(t,r)=>(m(),$(T(Z),{key:r},{default:i(()=>[l(s,{to:/proHome/+c._id,class:"text-decoration-none"},{default:i(()=>[l(R,{src:t,cover:"",style:{width:"100%",height:"100%"}},null,8,["src"])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),o("div",{class:"click d-flex align-center flex-column justify-center",style:_(`color: ${c.textColor};`)},ge,4)]),_:1})]),_:1})],4)])}}},he=o("br",null,null,-1),xe=o("br",null,null,-1),_e=o("br",null,null,-1),we=o("div",{style:{"text-align":"center",margin:"10px 0 20px 0",color:"#B8860B","text-shadow":"0px 0px 10px #000000"}}," Copyright © PFSK. All figure in here. ",-1),Pe={__name:"ProductHome",setup(c){const e=P(),d=w(""),u=async()=>{try{const{data:a}=await V.get("./products/getone",{params:{search:d.value}});p.value=a.result,await C(),n(),window.scrollTo(0,0)}catch(a){f({text:a.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom",rounded:"pill",variant:"tonal"}})}},f=B(),p=w([]),n=()=>{document.querySelectorAll(".box1").forEach(r=>{y.from(r,{scrollTrigger:{trigger:r,start:"top 75%",end:"bottom center"},backgroundColor:"rgb(255,255,255)",boxShadow:"10px 10px 20px rgba(0, 0, 0, 0)",duration:2,ease:"none"})}),document.querySelectorAll(".title").forEach(r=>{y.timeline({repeat:-1,repeatDelay:4}).from(r,{opacity:1,duration:1,yoyo:!0,ease:"none"}).to(r,{opacity:1,duration:1,yoyo:!0,ease:"none"})}),document.querySelectorAll(".click").forEach(r=>{y.from(r,{scrollTrigger:{trigger:r,start:"top 90%",end:"bottom center"},y:100,opacity:0,duration:1,ease:"back"})})};return y.registerPlugin(ae),z(async()=>{try{const{data:a}=await V.get("/products/");p.value.push(...a.result),e.loding=!1,y.to(".productsearch",{y:-100,opacity:1,duration:1}),await C(),n()}catch(a){f({text:a.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom",rounded:"pill",variant:"tonal"}})}}),(a,s)=>(m(),x(S,null,[l(se,null,{default:i(()=>[l(N,{"close-on-content-click":!1},{activator:i(({props:t})=>[l(q,D(t,{class:"productsearch",size:"x-small"}),{default:i(()=>[h(" 搜"),he,h(" 尋"),xe,h(" 商"),_e,h(" 品 ")]),_:2},1040)]),default:i(()=>[l(K,{width:"500",class:"productsearchvlist"},{default:i(()=>[l(j,null,{default:i(()=>[l(H,{label:"搜尋","append-icon":"mdi-magnify",modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=t=>d.value=t),"onClick:append":u,onKeydown:O(u,["enter"])},null,8,["modelValue","onKeydown"])]),_:1})]),_:1})]),_:1}),l(F,null,{default:i(()=>[(m(!0),x(S,null,A(p.value,t=>(m(),$(b,{cols:"12",key:t._id,style:{margin:"50px 0px"}},{default:i(()=>[l(ye,G(U(t)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}),we],64))}};export{Pe as default};
