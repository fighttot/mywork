import{K as D,R as z,i as t,A as H,u as U,c as L,a as j,b as F,d as M,r as $,e as q,f as a,h as p,aj as h,at as _,l as r,x,j as s,w as o,k as n,F as m,m as B,V as C,n as E,p as A,q as w,s as R,t as c,v as K,z as g,y as u,H as G,D as I}from"./index-3263188b.js";import{V as J}from"./VNavigationDrawer-d7651aef.js";import{V as O,a as f,b as Q}from"./VBadge-6dc2114d.js";import{V as W}from"./VMain-f3d78f41.js";import{V as X}from"./VContainer-2369b5fb.js";import{m as Y,a as Z}from"./VToolbar-c2f5877c.js";/* empty css              */const ee=D()({name:"VAppBarTitle",props:Y(),setup(y,k){let{slots:l}=k;return z(()=>t(Z,H(y,{class:"v-app-bar-title"}),l)),{}}}),te=""+new URL("gawr-gura-gura-a143a6e4.gif",import.meta.url).href,oe={class:"lodindpage"},ae={id:"prolaout"},re=x("span",null,"遊客",-1),pe={__name:"ProductLayout",setup(y){const{mobile:k}=U(),l=L(()=>k.value),e=j(),b=F(),T=M(),v=$(!1),P=L(()=>[{to:"/loginRrgister",text:"加入我們",icon:"mdi-account-plus",show:!e.isLogin},{to:"/cart",text:"購物車",icon:"mdi-cart",show:e.isLogin},{to:"/like",text:"收藏",icon:"mdi-heart",show:e.isLogin},{to:"/orders",text:"訂單",icon:"mdi-format-list-numbered",show:e.isLogin},{to:"/proHome",text:"商品一覽",icon:"mdi-tag",show:!0},{to:"/manufacturers",text:"廠商介紹",icon:"mdi-package-variant",show:!0},{to:"/forgetPass",text:"忘記密碼",icon:"mdi-lock-reset",show:!e.isLogin},{to:"/editPass",text:"編輯會員資料",icon:"mdi-account-edit",show:e.isLogin},{to:"/admin",text:"管理",icon:"mdi-cog",show:e.isLogin&&e.isAdmin},{to:"/",text:"回首頁",icon:"mdi-home",show:!0}]),N=async()=>{try{await G.delete("/users/logout"),e.lougot(),b({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom",rounded:"pill",variant:"tonal"}}),T.push("/loginRrgister")}catch(V){b({text:V.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom",rounded:"pill",variant:"tonal"}})}};return(V,d)=>{const S=q("RouterView");return a(),p(m,null,[h(x("div",oe,[t(B,{src:te,cover:""})],512),[[_,r(e).loding]]),h(x("section",ae,[l.value?(a(),s(J,{key:0,modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=i=>v.value=i),location:"right",temporary:""},{default:o(()=>[t(K,{nav:""},{default:o(()=>[r(e).isLogin?(a(),s(C,{key:0,color:"brown",size:"large"},{default:o(()=>[t(B,{src:r(e).avatar},null,8,["src"])]),_:1})):n("",!0),r(e).isLogin?n("",!0):(a(),s(C,{key:1,color:"brown",size:"large"},{default:o(()=>[re]),_:1})),(a(!0),p(m,null,E(P.value,i=>(a(),p(m,{key:i.to},[i.show?(a(),s(A,{key:0,to:i.to},{prepend:o(()=>[t(w,{icon:i.icon},null,8,["icon"])]),append:o(()=>[i.to==="/cart"?(a(),s(f,{key:0,color:"success",content:r(e).cart,inline:""},null,8,["content"])):n("",!0),i.to==="/like"?(a(),s(f,{key:1,color:"success",content:r(e).like,inline:""},null,8,["content"])):n("",!0)]),default:o(()=>[t(R,null,{default:o(()=>[c(I(i.text),1)]),_:2},1024)]),_:2},1032,["to"])):n("",!0)],64))),128)),r(e).isLogin?(a(),s(A,{key:2,onClick:N},{prepend:o(()=>[t(w,{icon:"mdi-logout"})]),default:o(()=>[t(R,null,{default:o(()=>[c("登出")]),_:1})]),_:1})):n("",!0)]),_:1})]),_:1},8,["modelValue"])):n("",!0),t(O,{elevation:0,class:"appbar","scroll-behavior":"hide","scroll-threshold":"30"},{default:o(()=>[t(X,{class:"d-flex align-center"},{default:o(()=>[t(g),t(u,{to:"/",active:!1},{default:o(()=>[t(ee,null,{default:o(()=>[t(w,{icon:"mdi-home"}),c("型影不離")]),_:1})]),_:1}),l.value?n("",!0):(a(),p(m,{key:0},[t(u,{variant:"text",active:!1,to:"/manufacturers","prepend-icon":"mdi-package-variant"},{default:o(()=>[c("廠商介紹")]),_:1}),t(u,{variant:"text",active:!1,to:"/proHome","prepend-icon":"mdi-tag"},{default:o(()=>[c("商品一覽")]),_:1}),t(g),r(e).isLogin?(a(),s(u,{key:0,variant:"text",active:!1,to:"/like","prepend-icon":"mdi-heart"},{default:o(()=>[t(f,{content:r(e).like,floating:""},null,8,["content"])]),_:1})):n("",!0),r(e).isLogin?(a(),s(u,{key:1,variant:"text",active:!1,to:"/cart","prepend-icon":"mdi-cart"},{default:o(()=>[t(f,{content:r(e).cart,floating:""},null,8,["content"])]),_:1})):n("",!0),t(g)],64)),l.value?(a(),s(g,{key:1})):n("",!0),l.value?(a(),s(Q,{key:2,onClick:d[1]||(d[1]=i=>v.value=!0)})):n("",!0)]),_:1})]),_:1})],512),[[_,!r(e).loding]]),h(t(W,null,{default:o(()=>[(a(),s(S,{key:V.$route.path}))]),_:1},512),[[_,!r(e).loding]])],64)}}};export{pe as default};
